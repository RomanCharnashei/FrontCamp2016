{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","app.js","bundle.js","article-editor/create.js","article-editor/edit.js","article-editor/index.html","article/index.html","article/index.js","config.js","directives/bloglength.js","priview-article/index.html","priview-article/index.js","priview-articles/index.html","priview-articles/index.js","priview-user/index.html","priview-user/index.js","services/article.js","services/userProfile.js","user-profile/index.html","user-profile/index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","angular","config","component","service","directive","run","userProfile","fetch","element","bootstrap","document","./article","./article-editor/create","./article-editor/edit","./config","./directives/bloglength","./priview-article","./priview-articles","./priview-user","./services/article","./services/userProfile","./user-profile","2","template","bindings","controller","articleSvc","this","article","showError","ngModelController","error","$error","canSave","articleForm","$dirty","$valid","goBack","window","history","back","submit","create","then","./index.html","3","save","delete","_id","4","5","6","get","IamAuthor","user","_user","7","$stateProvider","$urlRouterProvider","state","url","resolve","articles","list","$stateParams","one","id","otherwise","angular-ui-router","8","$parse","link","scope","elm","attrs","ctrl","$validators","bloglength","modelValue","viewValue","blogLength","parseInt","isNaN","9","10","11","12","13","14","pubDate","addClass","15","$http","stateParams","params","res","data","post","put","16","profile","signin","signout","17","18"],"mappings":"CAAA,QAAAA,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAK,GAAA,GAAAC,OAAA,uBAAAN,EAAA,IAAA,MAAAK,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAX,EAAAG,IAAAS,WAAAb,GAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAS,QAAA,IAAA,GAAAL,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAa,GAAA,SAAAT,EAAAU,EAAAJ,GCAA,GAAAK,GAAAX,EAAA,UAEAW,GAAAD,OAAA,QAAA,cACAE,OAAAZ,EAAA,aACAa,UAAA,kBAAAb,EAAA,uBACAa,UAAA,iBAAAb,EAAA,sBACAa,UAAA,cAAAb,EAAA,mBACAa,UAAA,UAAAb,EAAA,cACAa,UAAA,cAAAb,EAAA,mBACAa,UAAA,iBAAAb,EAAA,4BACAa,UAAA,gBAAAb,EAAA,0BACAc,QAAA,aAAAd,EAAA,uBACAc,QAAA,cAAAd,EAAA,2BACAe,UAAA,aAAAf,EAAA,4BACAgB,KAAA,cAAA,SAAAC,GACAA,EAAAC,WAGAP,EAAAQ,QAAA,WACAR,EAAAS,UAAAC,UAAA,aCGGC,YAAY,EAAEC,0BAA0B,EAAEC,wBAAwB,EAAEC,WAAW,EAAEC,0BAA0B,EAAEC,oBAAoB,GAAGC,qBAAqB,GAAGC,iBAAiB,GAAGC,qBAAqB,GAAGC,yBAAyB,GAAGC,iBAAiB,GAAGrB,QAAU,YAAYsB,GAAG,SAASjC,EAAQU,EAAOJ,GCtB5S,GAAA4B,GAAAlC,EAAA,eAEAU,GAAAJ,SACA4B,SAAAA,EAEAC,YAIAC,YAAA,aAAA,SAAAC,GACAC,KAAAC,WAEAD,KAAAE,UAAA,SAAAC,EAAAC,GACA,MAAAD,GAAAE,OAAAD,IAGAJ,KAAAM,QAAA,WACA,MAAAN,MAAAO,YAAAC,QAAAR,KAAAO,YAAAE,QAGAT,KAAAU,OAAA,WACAC,OAAAC,QAAAC,QAGAb,KAAAc,OAAA,WACAf,EAAAgB,OAAAf,KAAAC,SACAe,KAAAhB,KAAAU,cD2BGO,eAAe,IAAIC,GAAG,SAASxD,EAAQU,EAAOJ,GErDjD,GAAA4B,GAAAlC,EAAA,eAEAU,GAAAJ,SACA4B,SAAAA,EAEAC,UACAI,QAAA,KAGAH,YAAA,aAAA,SAAAC,GACAC,KAAAE,UAAA,SAAAC,EAAAC,GACA,MAAAD,GAAAE,OAAAD,IAGAJ,KAAAM,QAAA,WACA,MAAAN,MAAAO,YAAAC,QAAAR,KAAAO,YAAAE,QAGAT,KAAAU,OAAA,WACAC,OAAAC,QAAAC,QAGAb,KAAAc,OAAA,WACAf,EAAAoB,KAAAnB,KAAAC,SACAe,KAAAhB,KAAAU,SAGAV,KAAAoB,OAAA,WACArB,EAAAqB,OAAApB,KAAAC,QAAAoB,KACAL,KAAAhB,KAAAU,cF0DGO,eAAe,IAAIK,GAAG,SAAS5D,EAAQU,EAAOJ,GGvFjDI,EAAAJ,QAAA,+/CH0FMuD,GAAG,SAAS7D,EAAQU,EAAOJ,GI1FjCI,EAAAJ,QAAA,qcJ6FMwD,GAAG,SAAS9D,EAAQU,EAAOJ,GK7FjC,GAAA4B,GAAAlC,EAAA,eAEAU,GAAAJ,SACA4B,SAAAA,EAEAC,UACAI,QAAA,KAGAH,YAAA,cAAA,SAAAnB,GACAqB,KAAArB,YAAAA,EAAA8C,MAEAzB,KAAAU,OAAA,WACAC,OAAAC,QAAAC,QAGAb,KAAA0B,UAAA,WACA,MAAA1B,MAAArB,YAAAgD,MAAA3B,KAAAC,QAAA2B,MAAAP,KAAArB,KAAArB,YAAAgD,KAAAN,ULmGGJ,eAAe,IAAIY,GAAG,SAASnE,EAAQU,EAAOJ,GMpHjDN,EAAA,qBAEAU,EAAAJ,SAAA,iBAAA,qBAAA,SAAA8D,EAAAC,GACAD,EACAE,MAAA,QACAC,IAAA,IACA1D,UAAA,kBACA2D,SACAC,UAAA,aAAA,SAAApC,GACA,MAAAA,GAAAqC,YAIAJ,MAAA,YACAC,IAAA,wBACA1D,UAAA,kBACA2D,SACAC,UAAA,aAAA,eAAA,SAAApC,EAAAsC,GACA,MAAAtC,GAAAqC,KAAAC,QAIAL,MAAA,WACAC,IAAA,eACA1D,UAAA,UACA2D,SACAjC,SAAA,aAAA,eAAA,SAAAF,EAAAsC,GACA,MAAAtC,GAAAuC,IAAAD,EAAAE,SAIAP,MAAA,iBACAC,IAAA,kBACA1D,UAAA,mBAEAyD,MAAA,eACAC,IAAA,eACA1D,UAAA,gBACA2D,SACAjC,SAAA,aAAA,eAAA,SAAAF,EAAAsC,GACA,MAAAtC,GAAAuC,IAAAD,EAAAE,SAKAR,EAAAS,UAAA,SNwHGC,oBAAoB,sBAAsBC,GAAG,SAAShF,EAAQU,EAAOJ,GOrKxEI,EAAAJ,SAAA,SAAA,SAAA2E,GACA,OAEAjF,QAAA,UAEAkF,KAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACAA,EAAAC,YAAAC,WAAA,SAAAC,EAAAC,GACA,GAAAlF,GAAAyE,EAAAI,EAAAM,YAAAR,EAGA,OAFA3E,GAAAoF,SAAApF,MAEAqF,MAAArF,IAAAiF,EAAAjF,QAAAA,aPgLMsF,GAAG,SAAS9F,EAAQU,EAAOJ,GQ1LjCI,EAAAJ,QAAA,ghBR6LMyF,IAAI,SAAS/F,EAAQU,EAAOJ,GS7LlC,GAAA4B,GAAAlC,EAAA,eAEAU,GAAAJ,SACA4B,SAAAA,EAEAC,UACAI,QAAA,IACAtB,YAAA,KAGAmB,WAAA,WACAE,KAAA0B,UAAA,WACA,MAAA1B,MAAArB,YAAAgD,MAAA3B,KAAAC,QAAA2B,MAAAP,KAAArB,KAAArB,YAAAgD,KAAAN,STmMGJ,eAAe,IAAIyC,IAAI,SAAShG,EAAQU,EAAOJ,GU/MlDI,EAAAJ,QAAA,8GVkNM2F,IAAI,SAASjG,EAAQU,EAAOJ,GWlNlC,GAAA4B,GAAAlC,EAAA,eAEAU,GAAAJ,SACA4B,SAAAA,EAEAC,UACAsC,SAAA,KAGArC,YAAA,cAAA,SAAAnB,GACAqB,KAAArB,YAAAA,EAAA8C,WXsNGR,eAAe,KAAK2C,IAAI,SAASlG,EAAQU,EAAOJ,GYhOnDI,EAAAJ,QAAA,ycZmOM6F,IAAI,SAASnG,EAAQU,EAAOJ,GanOlC,GAAA4B,GAAAlC,EAAA,eAEAU,GAAAJ,SACA4B,SAAAA,EAEAC,UACA8B,KAAA,IACAmC,QAAA,IACAC,SAAA,KAGAjE,WAAA,gBbwOGmB,eAAe,KAAK+C,IAAI,SAAStG,EAAQU,EAAOJ,GcnPnDI,EAAAJ,SAAA,QAAA,SAAAiG,GACAjE,KAAAoC,KAAA,SAAA8B,GACA,MAAAD,GAAAxC,IAAA,aAAA0C,OAAAD,IACAlD,KAAA,SAAAoD,GACA,MAAAA,GAAAC,QAIArE,KAAAsC,IAAA,SAAAC,GACA,MAAA0B,GAAAxC,IAAA,YAAAc,GACAvB,KAAA,SAAAoD,GACA,MAAAA,GAAAC,QAIArE,KAAAe,OAAA,SAAAd,GACA,MAAAgE,GAAAK,KAAA,WAAArE,IAGAD,KAAAmB,KAAA,SAAAlB,GACA,MAAAgE,GAAAM,IAAA,YAAAtE,EAAAoB,IAAApB,IAGAD,KAAAoB,OAAA,SAAAmB,GACA,MAAA0B,GAAA7C,OAAA,YAAAmB,WdwPMiC,IAAI,SAAS9G,EAAQU,EAAOJ,GehRlCI,EAAAJ,SAAA,QAAA,SAAAiG,GACA,GAAAQ,IACA9C,KAAA,KAGA3B,MAAAyB,IAAA,WACA,MAAAgD,IAGAzE,KAAA0E,OAAA,WACA,MAAAT,GAAAxC,IAAA,WACAT,KAAA,WACA,MAAAhB,MAAApB,WAIAoB,KAAA2E,QAAA,WACAV,EAAAxC,IAAA,gBACAT,KAAA,WACAyD,EAAA9C,KAAA,QAIA3B,KAAApB,MAAA,WACA,MAAAqF,GAAAxC,IAAA,YACAT,KAAA,SAAAoD,GACAK,EAAA9C,KAAAyC,EAAAC,KAAA1C,efsRMiD,IAAI,SAASlH,EAAQU,EAAOJ,GgBhTlCI,EAAAJ,QAAA,2zBhBmTM6G,IAAI,SAASnH,EAAQU,EAAOJ,GiBnTlC,GAAA4B,GAAAlC,EAAA,eAEAU,GAAAJ,SACA4B,SAAAA,EAEAC,YAIAC,YAAA,cAAA,SAAAnB,GACAqB,KAAArB,YAAAA,EAAA8C,MACAzB,KAAA2E,QAAAhG,EAAAgG,QACA3E,KAAA0E,OAAA/F,EAAA+F,YjBwTGzD,eAAe,UAAU","file":"../bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var angular = require('angular');\r\n\r\nangular.module('blog', ['ui.router'])\r\n    .config(require('./config'))\r\n    .component('priviewArticles', require('./priview-articles'))\r\n    .component('priviewArticle', require('./priview-article'))\r\n    .component('priviewUser', require('./priview-user'))\r\n    .component('article', require('./article'))\r\n    .component('userProfile', require('./user-profile'))\r\n    .component('articleCreator', require('./article-editor/create'))\r\n    .component('articleEditor', require('./article-editor/edit'))\r\n    .service('articleSvc', require('./services/article'))\r\n    .service('userProfile', require('./services/userProfile'))\r\n    .directive('blogLength', require('./directives/bloglength'))\r\n    .run(/*@ngInject*/function(userProfile){\r\n        userProfile.fetch();\r\n    });\r\n\r\nangular.element(function() {\r\n    angular.bootstrap(document, ['blog']);\r\n});","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar angular = require('angular');\r\n\r\nangular.module('blog', ['ui.router'])\r\n    .config(require('./config'))\r\n    .component('priviewArticles', require('./priview-articles'))\r\n    .component('priviewArticle', require('./priview-article'))\r\n    .component('priviewUser', require('./priview-user'))\r\n    .component('article', require('./article'))\r\n    .component('userProfile', require('./user-profile'))\r\n    .component('articleCreator', require('./article-editor/create'))\r\n    .component('articleEditor', require('./article-editor/edit'))\r\n    .service('articleSvc', require('./services/article'))\r\n    .service('userProfile', require('./services/userProfile'))\r\n    .directive('blogLength', require('./directives/bloglength'))\r\n    .run(/*@ngInject*/function(userProfile){\r\n        userProfile.fetch();\r\n    });\r\n\r\nangular.element(function() {\r\n    angular.bootstrap(document, ['blog']);\r\n});\n},{\"./article\":6,\"./article-editor/create\":2,\"./article-editor/edit\":3,\"./config\":7,\"./directives/bloglength\":8,\"./priview-article\":10,\"./priview-articles\":12,\"./priview-user\":14,\"./services/article\":15,\"./services/userProfile\":16,\"./user-profile\":18,\"angular\":\"angular\"}],2:[function(require,module,exports){\nvar template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n\r\n    bindings: {\r\n\r\n    },\r\n\r\n    controller: /*@ngInject*/ function(articleSvc){\r\n        this.article = {};\r\n\r\n        this.showError = function(ngModelController, error) {\r\n            return ngModelController.$error[error];\r\n        }\r\n\r\n        this.canSave = function() {\r\n            return this.articleForm.$dirty && this.articleForm.$valid;\r\n        }\r\n\r\n        this.goBack = function() {\r\n            window.history.back();\r\n        }\r\n\r\n        this.submit = function() {\r\n            articleSvc.create(this.article)\r\n            .then(this.goBack);\r\n        }\r\n    }\r\n};\n},{\"./index.html\":4}],3:[function(require,module,exports){\nvar template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n\r\n    bindings: {\r\n        article: '<'\r\n    },\r\n\r\n    controller: /*@ngInject*/ function(articleSvc){\r\n        this.showError = function(ngModelController, error) {\r\n            return ngModelController.$error[error];\r\n        }\r\n\r\n        this.canSave = function() {\r\n            return this.articleForm.$dirty && this.articleForm.$valid;\r\n        }\r\n\r\n        this.goBack = function() {\r\n            window.history.back();\r\n        }\r\n\r\n        this.submit = function() {\r\n            articleSvc.save(this.article)\r\n            .then(this.goBack);\r\n        }\r\n\r\n        this.delete = function(){\r\n            articleSvc.delete(this.article._id)\r\n            .then(this.goBack);\r\n        }\r\n    }\r\n};\n},{\"./index.html\":4}],4:[function(require,module,exports){\nmodule.exports = \"<div class=article-form><h1 class=article-form__title>Create article</h1><form ng-submit=$ctrl.submit() name=$ctrl.articleForm><p><label class=article-form__label for=title>Title:</label><input ng-model=$ctrl.article.title required class=article-form__element id=title type=text name=title> <span class=error-msg ng-show=\\\"$ctrl.showError($ctrl.articleForm.title, 'required')\\\">This field is required</span></p><p><label class=article-form__label for=content>Content:</label><textarea ng-model=$ctrl.article.content required blog-length=20 class=article-form__element name=content id=content rows=20></textarea><span class=error-msg ng-show=\\\"$ctrl.showError($ctrl.articleForm.content, 'required')\\\">This field is required</span> <span class=error-msg ng-show=\\\"$ctrl.showError($ctrl.articleForm.content, 'bloglength')\\\">Text length must be at least 20 characters</span></p><p><label class=article-form__label for=preview>Preview:</label><textarea ng-model=$ctrl.article.preview class=article-form__element name=preview id=preview rows=5></textarea></p><p><label class=article-form__label for=tags>Tags:</label><input ng-model=$ctrl.article.tags class=article-form__element id=tags type=tags name=tags></p><p class=article-form__btn-section><input ng-disabled=!$ctrl.canSave() class=article-form__btn type=submit value=Save> <input ng-click=$event.preventDefault();$ctrl.goBack() type=button class=article-form__btn value=Cancel> <input ng-click=$ctrl.delete() type=button class=article-form__btn value=Delete></p></form></div>\";\n\n},{}],5:[function(require,module,exports){\nmodule.exports = \"<div class=article><priview-user user=$ctrl.article._user pub-date=$ctrl.article.pubDate add-class=\\\"'article__user'\\\"></priview-user><h2 class=article__title>{{$ctrl.article.title}}</h2><p class=article__content>{{$ctrl.article.content}}</p><a ng-if=$ctrl.IamAuthor() class=article-priview_btn ui-sref=\\\"editArticle({id: $ctrl.article._id})\\\">Edit</a> <a class=article-priview_btn ng-click=$event.preventDefault();$ctrl.goBack()>Go back</a></div>\";\n\n},{}],6:[function(require,module,exports){\nvar template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n    \r\n    bindings: {\r\n        article: '<'\r\n    },\r\n\r\n    controller: /*@ngInject*/ function(userProfile){\r\n        this.userProfile = userProfile.get();\r\n        \r\n        this.goBack = function() {\r\n            window.history.back();\r\n        }\r\n\r\n        this.IamAuthor = function(){\r\n            return this.userProfile.user && this.article._user._id == this.userProfile.user._id;\r\n        }\r\n    }\r\n};\r\n\n},{\"./index.html\":5}],7:[function(require,module,exports){\nrequire('angular-ui-router');\r\n\r\nmodule.exports = /*@ngInject*/ function($stateProvider, $urlRouterProvider) {\r\n    $stateProvider\r\n        .state('home', {\r\n            url: '/',\r\n            component: 'priviewArticles',\r\n            resolve: {\r\n                articles: /*@ngInject*/ function(articleSvc){\r\n                    return articleSvc.list();\r\n                }\r\n            }\r\n        })\r\n        .state('articles', {\r\n            url: '/articles?tags&userId',\r\n            component: 'priviewArticles',\r\n            resolve: {\r\n                articles: /*@ngInject*/ function(articleSvc, $stateParams) {\r\n                    return articleSvc.list($stateParams);\r\n                }\r\n            }\r\n        })\r\n        .state('article', {\r\n            url: '/article/:id',\r\n            component: 'article',\r\n            resolve: {\r\n                article: /*@ngInject*/ function(articleSvc, $stateParams) {\r\n                    return articleSvc.one($stateParams.id);\r\n                }\r\n            }\r\n        })\r\n        .state('createArticle', {\r\n            url: '/article/create',\r\n            component: 'articleCreator'\r\n        })\r\n        .state('editArticle', {\r\n            url: '/article/:id',\r\n            component: 'articleEditor',\r\n            resolve: {\r\n                article: /*@ngInject*/ function(articleSvc, $stateParams) {\r\n                    return articleSvc.one($stateParams.id);\r\n                }\r\n            }\r\n        });\r\n\r\n        $urlRouterProvider.otherwise('/');\r\n}\r\n\n},{\"angular-ui-router\":\"angular-ui-router\"}],8:[function(require,module,exports){\nmodule.exports = /*@ngInject*/ function($parse){\r\n    return {\r\n\r\n        require: 'ngModel',\r\n\r\n        link: function(scope, elm, attrs, ctrl){\r\n            ctrl.$validators.bloglength = function(modelValue, viewValue) {\r\n                var length = $parse(attrs.blogLength)(scope);\r\n                length = parseInt(length);\r\n\r\n                if (isNaN(length) || (modelValue.length <= length)) {\r\n                    return true\r\n                } else {\r\n                    return false;\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n}\n},{}],9:[function(require,module,exports){\nmodule.exports = \"<div class=article-priview><priview-user user=$ctrl.article._user pub-date=$ctrl.article.pubDate add-class=\\\"'article-priview__user'\\\"></priview-user><div class=article-priview__content-box><a class=article-priview__article-link ui-sref=\\\"article({id: $ctrl.article._id})\\\"></a><h2 class=article-priview__title>{{$ctrl.article.title}}</h2><p class=article-priview__content>{{$ctrl.article.preview}}</p></div><a ng-if=$ctrl.IamAuthor() class=article-priview_btn ui-sref=\\\"editArticle({id: $ctrl.article._id})\\\">Edit</a></div>\";\n\n},{}],10:[function(require,module,exports){\nvar template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n\r\n    bindings: {\r\n        article: '<',\r\n        userProfile: '<'\r\n    },\r\n\r\n    controller: function(){\r\n        this.IamAuthor = function(){\r\n            return this.userProfile.user && this.article._user._id == this.userProfile.user._id;\r\n        }        \r\n    }\r\n};\r\n\n},{\"./index.html\":9}],11:[function(require,module,exports){\nmodule.exports = \"<priview-article article=article user-profile=$ctrl.userProfile ng-repeat=\\\"article in $ctrl.articles\\\">\";\n\n},{}],12:[function(require,module,exports){\nvar template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n\r\n    bindings: {\r\n        articles: '<'\r\n    },\r\n\r\n    controller: /*@ngInject*/ function(userProfile) {\r\n        this.userProfile = userProfile.get();\r\n    }\r\n};\n},{\"./index.html\":11}],13:[function(require,module,exports){\nmodule.exports = \"<div class=\\\"priview-user {{$ctrl.addClass}}\\\"><div class=priview-user__box><img class=priview-user__img ng-src={{$ctrl.user.photo_uri}} alt=\\\"\\\"><div class=priview-user__author-lockup><a ng-if=!!$ctrl.user.vk_profile href={{$ctrl.user.vk_profile}} class=priview-user__user-link>{{$ctrl.user.name}}</a> <span ng-if=!$ctrl.user.vk_profile>{{$ctrl.user.name}}</span><div class=priview-user__info>{{$ctrl.pubDate | date:'medium'}}</div></div></div></div>\";\n\n},{}],14:[function(require,module,exports){\nvar template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n\r\n    bindings: {\r\n        user: '<',\r\n        pubDate: '<',\r\n        addClass: '<'\r\n    },\r\n\r\n    controller: function(){\r\n\r\n    }\r\n};\n},{\"./index.html\":13}],15:[function(require,module,exports){\nmodule.exports = /*@ngInject*/ function($http) {\r\n    this.list = function(stateParams){\r\n        return $http.get('/articles', {params:stateParams})\r\n            .then(function(res){\r\n                return res.data;\r\n            });\r\n    };\r\n\r\n    this.one = function(id) {\r\n        return $http.get('/article/' + id)\r\n        .then(function(res){\r\n            return res.data;\r\n        });\r\n    };\r\n\r\n    this.create = function(article) {\r\n        return $http.post('/article', article);\r\n    };\r\n\r\n    this.save = function(article) {\r\n        return $http.put('/article/' + article._id, article);\r\n    };\r\n\r\n    this.delete = function(id){\r\n        return $http.delete('/article/' + id);\r\n    };\r\n}\r\n\n},{}],16:[function(require,module,exports){\nmodule.exports = /*@ngInject*/ function($http) {\r\n    var profile = {\r\n        user: null\r\n    };\r\n\r\n    this.get = function(){\r\n        return profile;\r\n    };\r\n\r\n    this.signin = function(){\r\n        return $http.get('auth/vk')\r\n            .then(function(){\r\n                return this.fetch();\r\n            });\r\n    }\r\n\r\n    this.signout = function(){\r\n        $http.get('auth/signout')\r\n        .then(function(){\r\n            profile.user = null;\r\n        });\r\n    }\r\n\r\n    this.fetch = function(){\r\n        return $http.get('/auth/me')\r\n            .then(function(res){\r\n                profile.user = res.data.user;\r\n            });\r\n    };\r\n}\r\n\n},{}],17:[function(require,module,exports){\nmodule.exports = \"<div class=\\\"user-box header_user-box\\\"><div ng-if=$ctrl.userProfile.user class=user-profile><img class=user-profile__ava ng-src={{$ctrl.userProfile.user.photo_uri}} alt=\\\"\\\"><div class=user-profile__lockup><a ng-if=$ctrl.userProfile.user.vk_profile href={{$ctrl.userProfile.user.vk_profile}} class=user-profile__name>{{$ctrl.userProfile.user.name}}</a> <span ng-if=!$ctrl.userProfile.user.vk_profile class=user-profile__name>{{$ctrl.userProfile.user.name}}</span></div><a class=user-profile_btn ui-sref=createArticle>Create article</a> <a class=user-profile_btn ui-sref=\\\"articles({userId: $ctrl.userProfile.user._id})\\\">My articles</a> <a class=user-profile_btn href=# ng-click=$ctrl.signout()>Sign out</a></div><a ng-click=$ctrl.signin() ng-if=!$ctrl.userProfile.user class=user-box_loging href=#>Sign in with VK</a></div>\";\n\n},{}],18:[function(require,module,exports){\nvar template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n    \r\n    bindings: {\r\n\r\n    },\r\n\r\n    controller: /*@ngInject*/ function(userProfile){\r\n        this.userProfile = userProfile.get();\r\n        this.signout = userProfile.signout;\r\n        this.signin = userProfile.signin;\r\n    }\r\n};\r\n\n},{\"./index.html\":17}]},{},[1])\n\n","var template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n\r\n    bindings: {\r\n\r\n    },\r\n\r\n    controller: /*@ngInject*/ function(articleSvc){\r\n        this.article = {};\r\n\r\n        this.showError = function(ngModelController, error) {\r\n            return ngModelController.$error[error];\r\n        }\r\n\r\n        this.canSave = function() {\r\n            return this.articleForm.$dirty && this.articleForm.$valid;\r\n        }\r\n\r\n        this.goBack = function() {\r\n            window.history.back();\r\n        }\r\n\r\n        this.submit = function() {\r\n            articleSvc.create(this.article)\r\n            .then(this.goBack);\r\n        }\r\n    }\r\n};","var template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n\r\n    bindings: {\r\n        article: '<'\r\n    },\r\n\r\n    controller: /*@ngInject*/ function(articleSvc){\r\n        this.showError = function(ngModelController, error) {\r\n            return ngModelController.$error[error];\r\n        }\r\n\r\n        this.canSave = function() {\r\n            return this.articleForm.$dirty && this.articleForm.$valid;\r\n        }\r\n\r\n        this.goBack = function() {\r\n            window.history.back();\r\n        }\r\n\r\n        this.submit = function() {\r\n            articleSvc.save(this.article)\r\n            .then(this.goBack);\r\n        }\r\n\r\n        this.delete = function(){\r\n            articleSvc.delete(this.article._id)\r\n            .then(this.goBack);\r\n        }\r\n    }\r\n};","module.exports = \"<div class=article-form><h1 class=article-form__title>Create article</h1><form ng-submit=$ctrl.submit() name=$ctrl.articleForm><p><label class=article-form__label for=title>Title:</label><input ng-model=$ctrl.article.title required class=article-form__element id=title type=text name=title> <span class=error-msg ng-show=\\\"$ctrl.showError($ctrl.articleForm.title, 'required')\\\">This field is required</span></p><p><label class=article-form__label for=content>Content:</label><textarea ng-model=$ctrl.article.content required blog-length=20 class=article-form__element name=content id=content rows=20></textarea><span class=error-msg ng-show=\\\"$ctrl.showError($ctrl.articleForm.content, 'required')\\\">This field is required</span> <span class=error-msg ng-show=\\\"$ctrl.showError($ctrl.articleForm.content, 'bloglength')\\\">Text length must be at least 20 characters</span></p><p><label class=article-form__label for=preview>Preview:</label><textarea ng-model=$ctrl.article.preview class=article-form__element name=preview id=preview rows=5></textarea></p><p><label class=article-form__label for=tags>Tags:</label><input ng-model=$ctrl.article.tags class=article-form__element id=tags type=tags name=tags></p><p class=article-form__btn-section><input ng-disabled=!$ctrl.canSave() class=article-form__btn type=submit value=Save> <input ng-click=$event.preventDefault();$ctrl.goBack() type=button class=article-form__btn value=Cancel> <input ng-click=$ctrl.delete() type=button class=article-form__btn value=Delete></p></form></div>\";\n","module.exports = \"<div class=article><priview-user user=$ctrl.article._user pub-date=$ctrl.article.pubDate add-class=\\\"'article__user'\\\"></priview-user><h2 class=article__title>{{$ctrl.article.title}}</h2><p class=article__content>{{$ctrl.article.content}}</p><a ng-if=$ctrl.IamAuthor() class=article-priview_btn ui-sref=\\\"editArticle({id: $ctrl.article._id})\\\">Edit</a> <a class=article-priview_btn ng-click=$event.preventDefault();$ctrl.goBack()>Go back</a></div>\";\n","var template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n    \r\n    bindings: {\r\n        article: '<'\r\n    },\r\n\r\n    controller: /*@ngInject*/ function(userProfile){\r\n        this.userProfile = userProfile.get();\r\n        \r\n        this.goBack = function() {\r\n            window.history.back();\r\n        }\r\n\r\n        this.IamAuthor = function(){\r\n            return this.userProfile.user && this.article._user._id == this.userProfile.user._id;\r\n        }\r\n    }\r\n};\r\n","require('angular-ui-router');\r\n\r\nmodule.exports = /*@ngInject*/ function($stateProvider, $urlRouterProvider) {\r\n    $stateProvider\r\n        .state('home', {\r\n            url: '/',\r\n            component: 'priviewArticles',\r\n            resolve: {\r\n                articles: /*@ngInject*/ function(articleSvc){\r\n                    return articleSvc.list();\r\n                }\r\n            }\r\n        })\r\n        .state('articles', {\r\n            url: '/articles?tags&userId',\r\n            component: 'priviewArticles',\r\n            resolve: {\r\n                articles: /*@ngInject*/ function(articleSvc, $stateParams) {\r\n                    return articleSvc.list($stateParams);\r\n                }\r\n            }\r\n        })\r\n        .state('article', {\r\n            url: '/article/:id',\r\n            component: 'article',\r\n            resolve: {\r\n                article: /*@ngInject*/ function(articleSvc, $stateParams) {\r\n                    return articleSvc.one($stateParams.id);\r\n                }\r\n            }\r\n        })\r\n        .state('createArticle', {\r\n            url: '/article/create',\r\n            component: 'articleCreator'\r\n        })\r\n        .state('editArticle', {\r\n            url: '/article/:id',\r\n            component: 'articleEditor',\r\n            resolve: {\r\n                article: /*@ngInject*/ function(articleSvc, $stateParams) {\r\n                    return articleSvc.one($stateParams.id);\r\n                }\r\n            }\r\n        });\r\n\r\n        $urlRouterProvider.otherwise('/');\r\n}\r\n","module.exports = /*@ngInject*/ function($parse){\r\n    return {\r\n\r\n        require: 'ngModel',\r\n\r\n        link: function(scope, elm, attrs, ctrl){\r\n            ctrl.$validators.bloglength = function(modelValue, viewValue) {\r\n                var length = $parse(attrs.blogLength)(scope);\r\n                length = parseInt(length);\r\n\r\n                if (isNaN(length) || (modelValue.length <= length)) {\r\n                    return true\r\n                } else {\r\n                    return false;\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n}","module.exports = \"<div class=article-priview><priview-user user=$ctrl.article._user pub-date=$ctrl.article.pubDate add-class=\\\"'article-priview__user'\\\"></priview-user><div class=article-priview__content-box><a class=article-priview__article-link ui-sref=\\\"article({id: $ctrl.article._id})\\\"></a><h2 class=article-priview__title>{{$ctrl.article.title}}</h2><p class=article-priview__content>{{$ctrl.article.preview}}</p></div><a ng-if=$ctrl.IamAuthor() class=article-priview_btn ui-sref=\\\"editArticle({id: $ctrl.article._id})\\\">Edit</a></div>\";\n","var template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n\r\n    bindings: {\r\n        article: '<',\r\n        userProfile: '<'\r\n    },\r\n\r\n    controller: function(){\r\n        this.IamAuthor = function(){\r\n            return this.userProfile.user && this.article._user._id == this.userProfile.user._id;\r\n        }        \r\n    }\r\n};\r\n","module.exports = \"<priview-article article=article user-profile=$ctrl.userProfile ng-repeat=\\\"article in $ctrl.articles\\\">\";\n","var template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n\r\n    bindings: {\r\n        articles: '<'\r\n    },\r\n\r\n    controller: /*@ngInject*/ function(userProfile) {\r\n        this.userProfile = userProfile.get();\r\n    }\r\n};","module.exports = \"<div class=\\\"priview-user {{$ctrl.addClass}}\\\"><div class=priview-user__box><img class=priview-user__img ng-src={{$ctrl.user.photo_uri}} alt=\\\"\\\"><div class=priview-user__author-lockup><a ng-if=!!$ctrl.user.vk_profile href={{$ctrl.user.vk_profile}} class=priview-user__user-link>{{$ctrl.user.name}}</a> <span ng-if=!$ctrl.user.vk_profile>{{$ctrl.user.name}}</span><div class=priview-user__info>{{$ctrl.pubDate | date:'medium'}}</div></div></div></div>\";\n","var template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n\r\n    bindings: {\r\n        user: '<',\r\n        pubDate: '<',\r\n        addClass: '<'\r\n    },\r\n\r\n    controller: function(){\r\n\r\n    }\r\n};","module.exports = /*@ngInject*/ function($http) {\r\n    this.list = function(stateParams){\r\n        return $http.get('/articles', {params:stateParams})\r\n            .then(function(res){\r\n                return res.data;\r\n            });\r\n    };\r\n\r\n    this.one = function(id) {\r\n        return $http.get('/article/' + id)\r\n        .then(function(res){\r\n            return res.data;\r\n        });\r\n    };\r\n\r\n    this.create = function(article) {\r\n        return $http.post('/article', article);\r\n    };\r\n\r\n    this.save = function(article) {\r\n        return $http.put('/article/' + article._id, article);\r\n    };\r\n\r\n    this.delete = function(id){\r\n        return $http.delete('/article/' + id);\r\n    };\r\n}\r\n","module.exports = /*@ngInject*/ function($http) {\r\n    var profile = {\r\n        user: null\r\n    };\r\n\r\n    this.get = function(){\r\n        return profile;\r\n    };\r\n\r\n    this.signin = function(){\r\n        return $http.get('auth/vk')\r\n            .then(function(){\r\n                return this.fetch();\r\n            });\r\n    }\r\n\r\n    this.signout = function(){\r\n        $http.get('auth/signout')\r\n        .then(function(){\r\n            profile.user = null;\r\n        });\r\n    }\r\n\r\n    this.fetch = function(){\r\n        return $http.get('/auth/me')\r\n            .then(function(res){\r\n                profile.user = res.data.user;\r\n            });\r\n    };\r\n}\r\n","module.exports = \"<div class=\\\"user-box header_user-box\\\"><div ng-if=$ctrl.userProfile.user class=user-profile><img class=user-profile__ava ng-src={{$ctrl.userProfile.user.photo_uri}} alt=\\\"\\\"><div class=user-profile__lockup><a ng-if=$ctrl.userProfile.user.vk_profile href={{$ctrl.userProfile.user.vk_profile}} class=user-profile__name>{{$ctrl.userProfile.user.name}}</a> <span ng-if=!$ctrl.userProfile.user.vk_profile class=user-profile__name>{{$ctrl.userProfile.user.name}}</span></div><a class=user-profile_btn ui-sref=createArticle>Create article</a> <a class=user-profile_btn ui-sref=\\\"articles({userId: $ctrl.userProfile.user._id})\\\">My articles</a> <a class=user-profile_btn href=# ng-click=$ctrl.signout()>Sign out</a></div><a ng-click=$ctrl.signin() ng-if=!$ctrl.userProfile.user class=user-box_loging href=#>Sign in with VK</a></div>\";\n","var template = require('./index.html');\r\n\r\nmodule.exports = {\r\n    template: template,\r\n    \r\n    bindings: {\r\n\r\n    },\r\n\r\n    controller: /*@ngInject*/ function(userProfile){\r\n        this.userProfile = userProfile.get();\r\n        this.signout = userProfile.signout;\r\n        this.signin = userProfile.signin;\r\n    }\r\n};\r\n"]}